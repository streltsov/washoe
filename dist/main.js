!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);const n=(e="div",t="")=>{const o=document.createElement(e.split(".")[0]);return e.split(".")[1]&&(o.className=e.split(".").slice(1).join(" ")),o.textContent=t,o},r=(e,t="")=>{const o=n("div.wsh-shadow-root"+t);o.attachShadow({mode:"closed"}).appendChild(e),document.body.appendChild(o)},a=e=>{(27==e.keyCode||e.ctrlKey&&219==e.keyCode)&&(e.preventDefault(),e.stopPropagation(),i())},i=(e="")=>document.querySelectorAll(".wsh-shadow-root"+e).forEach(e=>e.remove()),d=(e,t,o)=>{browser.storage.sync.set({[e]:{meaning:t,example:o,stage:0,time:Date.now()}})};var s=e=>{const t=n("section"),o=n("style","input{border:1px solid #0a84ff;box-shadow:0 0 0 1px #0a84ff, 0 0 0 4px rgba(10, 132, 255, 0.3);border-radius:2px;height:48px;min-width:440px;font-size:24px;padding:0 12px}input::placeholder{color:#737373}section{padding:36px 52px;border:2px solid #d7d7db;border-radius:4px;max-width:min-content;position:fixed;top:100px;right:0;left:0;margin:0 auto;background-color:#f9f9fa}"),r=n("input");return r.placeholder="Type word or phrase",r.addEventListener("keydown",o=>{a(o),o.stopPropagation(),13==o.keyCode&&(t.parentNode.host.remove(),e(o.target.value))}),t.appendChild(o),t.appendChild(r),setTimeout(()=>r.focus(),0),t};const l=e=>{e.stopPropagation(),e.preventDefault(),74==e.keyCode&&e.target.nextSibling.focus(),75==e.keyCode&&e.target.previousSibling.focus(),a(e),13==e.keyCode&&(e.preventDefault(),e.stopPropagation(),e.target.querySelector("li")?(e.target.classList.add("selected"),e.target.querySelector("li").focus()):(d(e.target.offsetParent.querySelector(".title").innerText,e.target.firstChild.innerText),i(".paper")))},c=e=>{e.preventDefault(),e.stopPropagation(),74==e.keyCode&&e.target.nextSibling.focus(),75==e.keyCode&&e.target.previousSibling.focus(),13==e.keyCode&&(d(e.target.offsetParent.querySelector(".title").innerText,e.target.parentNode.parentNode.firstChild.innerText,e.target.innerText),i(".paper")),(27==e.keyCode||e.ctrlKey&&219==e.keyCode)&&(e.preventDefault(),e.stopPropagation(),e.target.parentElement.parentElement.classList.remove("selected"),e.target.parentElement.parentElement.focus())};var p=e=>{const t=n("section"),o=n("style","section{position:fixed;top:0;bottom:0;left:0;right:0;margin:auto;max-width:75%;max-height:75%;background-color:#f9f9fa;border:2px solid #d7d7db;border-radius:2px;padding:16px;overflow:auto;z-index:99999999}ol > li{font-family:'Open Sans',Helvetica,Arial,sans-serif;color:font-size:18px;font-stretch:normal;letter-spacing:0.2px;line-height:22px;padding-bottom:16px}ol > li:focus,ul > li:focus{border:1px solid #0a84ff;border-radius:2px;box-shadow:0 0 0 1px #0a84ff, 0 0 0 4px rgba(10, 132, 255, 0.3)}.selected{border:1px solid #30e60b;border-radius:2px;box-shadow:0 0 0 1px #30e60b, 0 0 0 4px rgba(48, 230, 11, 0.3)}ul > li{font-style:italic;width:max-content}:focus{outline:none}::-moz-focus-inner{border:0}li,h1{color:#333}li{max-width:100%}"),r=n("h1.title",e[0].word),a=n("ol");return e.forEach(e=>{const t=n("li"),o=n("span.meaning",e.meaning);t.tabIndex="1",t.appendChild(o),t.addEventListener("keydown",l),t.addEventListener("mousedown",e=>e.preventDefault());const r=n("ul");e.examples.forEach(e=>{const t=n("li",e);t.tabIndex="1",t.addEventListener("keydown",c),t.addEventListener("mousedown",e=>e.preventDefault()),r.appendChild(t)}),t.appendChild(r),a.appendChild(t)}),[o,r,a].forEach(e=>t.appendChild(e)),setTimeout(()=>a.querySelector("li").focus(),0),t};const u=(e,t)=>{browser.storage.sync.get().then(o=>{browser.storage.sync.set({[e]:{...o[e],time:Date.now(),stage:"next"==t?++o[e].stage:0}})}),browser.runtime.sendMessage({action:"Remove cards from all tabs"})};var f=({word:e,meaning:t,example:o})=>{const r=n("section.container"),a=n("style",".container{display:flex;flex-direction:column;font-family:sans-serif;background-color:#0c0c0d;color:#f9f9fa;position:fixed;bottom:0;left:0;width:100%;z-index:2147483647;animation-name:fade-in;animation-duration:3s}.visible{display:flex;justify-content:center;align-items:center;font-size:16px;min-height:48px}.hidden{display:flex;flex-direction:column;justify-content:space-around;align-items:center;height:0;overflow:hidden}.meaning,.example,.buttons{width:100%;max-width:40ch}.example{font-style:italic;}.buttons{display:flex;justify-content:space-around;}.buttons button{background-color:#2a2a2e;color:#fff;border:none;min-width:132px;height:32px}.buttons button:hover{background-color:#38383d}.show-hidden{animation-name:show-up;animation-duration:.7s;animation-fill-mode:forwards}@keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes show-up{from{height:0}to{height:200px}}"),i=n("div.visible"),d=n("span.word",e);i.appendChild(d);const s=n("div.hidden"),l=n("span.meaning",`:${t}`);if(s.appendChild(l),o){const e=n("span.example",`For Example: ${o}`);s.appendChild(e)}const c=n("div.buttons");return["Again","Next"].forEach(e=>c.appendChild(n("button."+e.toLowerCase(),e))),c.addEventListener("click",t=>u(e,t.target.className)),s.appendChild(c),[a,i,s].forEach(e=>r.appendChild(e)),i.addEventListener("click",()=>s.classList.add("show-hidden")),r};const h=e=>e.querySelector(".def_text")?e.querySelector(".def_text").innerText:e.querySelector(".un_text")?e.querySelector(".un_text").innerText:e.querySelector(".both_text").innerText,x=e=>Array.from(e.querySelectorAll(".vi_content"),e=>e.innerText);var m=e=>Array.from(e.querySelectorAll(".sense"),t=>({word:e.querySelector("#ld_entries_v2_mainh").innerText,meaning:h(t),examples:x(t)}));document.addEventListener("keydown",e=>{e.ctrlKey&&191==e.keyCode&&(e.stopPropagation(),e.preventDefault(),i(),r(s(g),".search-bar"))}),browser.runtime.onMessage.addListener(e=>!((e="")=>Boolean(document.querySelector(".wsh-shadow-root"+e)))("-card")&&r(f(e.wordData),"-card"));const g=e=>(async e=>{const t=await fetch(e),o=await t.text();return await(new DOMParser).parseFromString(o,"text/html")})("http://www.learnersdictionary.com/definition/"+e).then(m).then(e=>r(p(e),".paper")).catch(console.error)}]);