!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([,function(e,t,o){"use strict";o.r(t);const n={zIndex:"2147483647",position:"fixed",margin:"auto",top:"100px",right:0,left:0,maxWidth:"736px",width:"75%",height:"48px",fontSize:"15px",paddingInlineStart:"48px",paddingInlineEnd:"48px",background:"#38383D",borderRadius:"3px",color:"rgba(249, 249, 250, 1)",border:"solid 1px #0a84ff",boxShadow:"0 0 0 1px #0a84ff, 0 0 0 4px rgba(10, 132, 255, 0.3)"};var r=e=>{const t=((e="div",t="")=>{const[o,...n]=e.match(/[^\.]+/g),r=document.createElement(o);return r.className=n.join(" "),r.textContent=t,r})("input.washoe-search-bar");return t.placeholder="Search for a word",((e,t)=>Object.keys(t).forEach(o=>e.style[o]=t[o]))(t,n),t.addEventListener("keydown",o=>{9==o.keyCode&&o.preventDefault(),13==o.keyCode&&(e(o.target.value),t.remove()),(o.ctrlKey&&219==o.keyCode||27==o.keyCode)&&(o.preventDefault(),t.remove())}),t.addEventListener("blur",()=>setTimeout(()=>t.focus(),0)),setTimeout(()=>t.focus(),0),t};const a=(e="div",t="")=>{const o=document.createElement(e.split(".")[0]);return e.split(".")[1]&&(o.className=e.split(".").slice(1).join(" ")),o.textContent=t,o},i=(e,t="")=>{const o=a("div.wsh-shadow-root"+t);o.attachShadow({mode:"closed"}).appendChild(e),document.body.appendChild(o)},d=(e="")=>document.querySelectorAll(".wsh-shadow-root"+e).forEach(e=>e.remove()),s=(e,t,o)=>{browser.storage.sync.set({[e]:{meaning:t,example:o,stage:0,time:Date.now()}})},l=e=>{e.stopPropagation(),e.preventDefault(),74==e.keyCode&&e.target.nextSibling.focus(),75==e.keyCode&&e.target.previousSibling.focus(),(e=>{(27==e.keyCode||e.ctrlKey&&219==e.keyCode)&&(e.preventDefault(),e.stopPropagation(),d())})(e),13==e.keyCode&&(e.preventDefault(),e.stopPropagation(),e.target.querySelector("li")?(e.target.classList.add("selected"),e.target.querySelector("li").focus()):(s(e.target.offsetParent.querySelector(".title").innerText,e.target.firstChild.innerText),d(".paper")))},c=e=>{e.preventDefault(),e.stopPropagation(),74==e.keyCode&&e.target.nextSibling.focus(),75==e.keyCode&&e.target.previousSibling.focus(),13==e.keyCode&&(s(e.target.offsetParent.querySelector(".title").innerText,e.target.parentNode.parentNode.firstChild.innerText,e.target.innerText),d(".paper")),(27==e.keyCode||e.ctrlKey&&219==e.keyCode)&&(e.preventDefault(),e.stopPropagation(),e.target.parentElement.parentElement.classList.remove("selected"),e.target.parentElement.parentElement.focus())};var p=e=>{const t=a("section"),o=a("style","section{position:fixed;top:0;bottom:0;left:0;right:0;margin:auto;max-width:75%;max-height:75%;background-color:#f9f9fa;border:2px solid #d7d7db;border-radius:2px;padding:16px;overflow:auto;z-index:2147483647}ol > li{font-family:'Open Sans',Helvetica,Arial,sans-serif;color:font-size:18px;font-stretch:normal;letter-spacing:0.2px;line-height:22px;padding-bottom:16px}ol > li:focus,ul > li:focus{border:1px solid #0a84ff;border-radius:2px;box-shadow:0 0 0 1px #0a84ff, 0 0 0 4px rgba(10, 132, 255, 0.3)}.selected{border:1px solid #30e60b;border-radius:2px;box-shadow:0 0 0 1px #30e60b, 0 0 0 4px rgba(48, 230, 11, 0.3)}ul > li{font-style:italic;width:max-content}:focus{outline:none}::-moz-focus-inner{border:0}li,h1{color:#333}li{max-width:100%}"),n=a("h1.title",e[0].word),r=a("ol");return e.forEach(e=>{const t=a("li"),o=a("span.meaning",e.meaning);t.tabIndex="1",t.appendChild(o),t.addEventListener("keydown",l),t.addEventListener("mousedown",e=>e.preventDefault());const n=a("ul");e.examples.forEach(e=>{const t=a("li",e);t.tabIndex="1",t.addEventListener("keydown",c),t.addEventListener("mousedown",e=>e.preventDefault()),n.appendChild(t)}),t.appendChild(n),r.appendChild(t)}),[o,n,r].forEach(e=>t.appendChild(e)),setTimeout(()=>r.querySelector("li").focus(),0),t};const u=(e,t)=>{browser.storage.sync.get().then(o=>{browser.storage.sync.set({[e]:{...o[e],time:Date.now(),stage:"next"==t?++o[e].stage:0}})}),browser.runtime.sendMessage({action:"Remove cards from all tabs"})};var f=({word:e,meaning:t,example:o})=>{const n=a("section.container"),r=a("style",".container{display:flex;flex-direction:column;font-family:sans-serif;background-color:#0c0c0d;color:#f9f9fa;position:fixed;bottom:0;left:0;width:100%;z-index:2147483647;animation-name:fade-in;animation-duration:3s}.visible{display:flex;justify-content:center;align-items:center;font-size:16px;min-height:48px}.hidden{display:flex;flex-direction:column;justify-content:space-around;align-items:center;height:0;overflow:hidden}.meaning,.example,.buttons{width:100%;max-width:40ch}.example{font-style:italic;}.buttons{display:flex;justify-content:space-around;}.buttons button{background-color:#2a2a2e;color:#fff;border:none;min-width:132px;height:32px}.buttons button:hover{background-color:#38383d}.show-hidden{animation-name:show-up;animation-duration:.7s;animation-fill-mode:forwards}@keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes show-up{from{height:0}to{height:200px}}"),i=a("div.visible"),d=a("span.word",e);i.appendChild(d);const s=a("div.hidden"),l=a("span.meaning",`:${t}`);if(s.appendChild(l),o){const e=a("span.example",`For Example: ${o}`);s.appendChild(e)}const c=a("div.buttons");return["Again","Next"].forEach(e=>c.appendChild(a("button."+e.toLowerCase(),e))),c.addEventListener("click",t=>u(e,t.target.className)),s.appendChild(c),[r,i,s].forEach(e=>n.appendChild(e)),i.addEventListener("click",()=>s.classList.add("show-hidden")),n};const m=e=>e.querySelector(".def_text")?e.querySelector(".def_text").innerText:e.querySelector(".un_text")?e.querySelector(".un_text").innerText:e.querySelector(".both_text").innerText,h=e=>Array.from(e.querySelectorAll(".vi_content"),e=>e.innerText);var x=e=>Array.from(e.querySelectorAll(".sense"),t=>({word:e.querySelector("#ld_entries_v2_mainh").innerText,meaning:m(t),examples:h(t)}));document.addEventListener("keydown",e=>{e.ctrlKey&&191==e.keyCode&&(e.stopPropagation(),e.preventDefault(),(e=>document.querySelector(e)&&document.querySelector(e).remove())(".washoe-search-bar"),document.body.appendChild(r(y)))}),browser.runtime.onMessage.addListener(e=>!((e="")=>Boolean(document.querySelector(".wsh-shadow-root"+e)))("-card")&&i(f(e.wordData),"-card"));const y=e=>(async e=>{const t=await fetch(e),o=await t.text();return await(new DOMParser).parseFromString(o,"text/html")})("http://www.learnersdictionary.com/definition/"+e).then(x).then(e=>i(p(e),".paper")).catch(console.error)}]);